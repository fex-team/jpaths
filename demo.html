<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jpaths</title>
    <style stylesheet="text/css">
        svg {
            width: 500px;
            height: 500px;
            border: 1px solid #ccc;
        }
        svg path {
            position: relative;
            fill: none;
            stroke-width: 2px;
        }
        svg path:first-child {
            stroke: #ccc;
            stroke-width: 10px;
        }
        svg path:nth-child(2) {
            stroke: blue;
        }
        svg path:nth-child(3){
            stroke: red;
        }
    </style>
</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svg">

</svg>   
</body>
<script src="lib/require.js"></script>
<script>

define('start', function(require) {

    var jpaths = require('src/jpaths');
    var path;
    var p = {};
    var svg = document.getElementById('svg');

    function init(pathdata) {
        var obj = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        var initpath;

        path = jpaths(pathdata);//创建jpaths对象

        initpath = path.toString();//获取jpaths对象的path数据
        obj.setAttribute('d', initpath);
        svg.appendChild(obj);//测试初始时的path数据
    }

    // function cut(position) {
    //     var paths = path.cut(position);//切割路径
    //     var obj1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    //     var obj2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');

    //     obj1.setAttribute('d', paths[0].toString());
    //     obj2.setAttribute('d', paths[1].toString()); 

    //     setTimeout(function() {
    //         svg.appendChild(obj1);
    //     }, 400);
    //     setTimeout(function() {
    //         svg.appendChild(obj2);
    //     }, 800);
    // }

    init('M50,50c100,100 250,100 350,150');//创建贝赛尔曲线路径

    // cut(40);

    window.path = path;
});
require(['start'], function() {
    console.log('start');
});
</script>
</html>